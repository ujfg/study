# Linuxのしくみ
## 第１章　Linuxの概要
- 動作中のプログラムのことをプロセスと呼ぶ
- カーネル
  - カーネルはプロセスがデバイスに直接アクセスできないようにしている
  - Linuxの場合はカーネルがカーネルモードで動作し、デバイスにアクセスする
  - プロセスはユーザーモードで実行されるので、デバイスに直接アクセスすることはできない
- システムコール
  - プロセスはシステムコールを発行、CPUにおいて例外を発生(CPUのモードがユーザーモードからカーネルモードに移行)させることで、間接的にデバイスにアクセスする
- ライブラリ
  - 多くのプログラムが利用するライブラリはOSが提供することがある
  - LinuxではglibcというC言語の標準ライブラリが提供されている
  - glibc(libc)はシステムコールのラッパー関数も提供している
    - システムコールは高級言語から直接呼び出せず、アーキテクチャ依存のアセンブリコードを使って呼び出す必要がある
    - アーキテクチャによらず高級言語からシステムコールを呼べるようにするために、libcがラッパー関数を提供している
- 静的ライブラリと動的ライブラリ
  - 静的ライブラリはビルド時にプログラムに組み込まれる
  - 動的ライブラリは実行時にそのライブラリのその関数を実際に呼ぶ
  - 動的ライブラリが主流だったが、近年になって静的ライブラリも見直されている（サイズの問題などが小さくなったため)